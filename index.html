<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Home - HomeDecor Shop</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    .hero-section img { border-radius:12px; max-width:100%; box-shadow:0 4px 12px rgba(0,0,0,0.1); }
    .grid { display:flex; flex-wrap:wrap; gap:18px; }
    .card { width:250px; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.1); overflow:hidden; }
    .card-body { padding:12px; }
    .snackbar { visibility:hidden; min-width:200px; background-color:#333; color:#fff; text-align:center; border-radius:4px; padding:12px; position:fixed; z-index:1000; left:50%; transform:translateX(-50%); bottom:30px; font-size:14px; }
    .snackbar.show { visibility:visible; animation:fadein 0.5s, fadeout 0.5s 2s; }
    .snackbar-success { background-color:#28a745; }
    .snackbar-error { background-color:#dc3545; }
    @keyframes fadein { from {bottom:0; opacity:0;} to {bottom:30px; opacity:1;} }
    @keyframes fadeout { from {bottom:30px; opacity:1;} to {bottom:0; opacity:0;} }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg p-3">
  <div class="container">
    <a class="navbar-brand" href="index.html">HomeDecor</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="shop.html">Shop</a></li>
        <li class="nav-item"><a class="nav-link" href="cart.html">Cart <span id="cartBadge" class="badge bg-danger">0</span></a></li>
        <li class="nav-item"><a class="nav-link" href="login.html" id="loginLink">Login</a></li>
        <li class="nav-item d-none" id="logoutNav"><a class="nav-link" href="#" id="logoutLink">Logout</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Hero Section -->
<div class="container">
  <div class="hero-section d-flex flex-wrap align-items-center justify-content-between my-4">
    <div class="hero-text col-md-6">
      <h1>Style your space with beautiful Lamps & Wall Art</h1>
      <p>Curated home décor pieces — soft pastels & modern designs. Free delivery on orders over ₹5000.</p>
      <a class="btn-cta btn btn-primary" href="shop.html">Browse Collections</a>
    </div>
    
  </div>

  <!-- Top Categories -->
  <h3 class="mb-3">Top Categories</h3>
  <div class="d-flex gap-2 mb-4">
    <div class="category-pill btn btn-outline-secondary" onclick="location.href='shop.html?cat=Lamps'">Lamps</div>
    <div class="category-pill btn btn-outline-secondary" onclick="location.href='shop.html?cat=Wall%20Art'">Wall Art</div>
  </div>

  <!-- Featured Picks -->
  <h3 class="mb-3">Featured Picks</h3>
  <div id="featuredContainer" class="mb-5"></div>

  <!-- Footer -->
  <footer class="text-center py-3 border-top">
    © 2025 HomeDecor · Crafted with care
  </footer>
</div>

<!-- Snackbar -->
<div id="successSnackbar" class="snackbar snackbar-success"></div>
<div id="errorSnackbar" class="snackbar snackbar-error"></div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- App JS -->
<script src="app.js"></script>

<script>
document.addEventListener('DOMContentLoaded', ()=> {
  // Update cart badge
  ShopApp.updateCartBadge?.();

  // Show 2 lamps + 1 wall art as featured picks
  const products = ShopApp.getProducts();
  const lamps = products.filter(p => p.category==='Lamps').slice(0,2);
  const wallArt = products.filter(p => p.category==='Wall Art').slice(0,1);
  const featured = [...lamps, ...wallArt];
  ShopApp.renderProducts('#featuredContainer', featured);

  // Navbar login/logout
  if(ShopApp.loggedIn()){
    document.getElementById('loginLink').classList.add('d-none');
    document.getElementById('logoutNav').classList.remove('d-none');
  }

  document.getElementById('logoutLink')?.addEventListener('click', ()=> {
    localStorage.removeItem('loggedInUser');
    localStorage.removeItem('currentUser');
    location.href='login.html';
  });
});
</script>
</body>
</html>
